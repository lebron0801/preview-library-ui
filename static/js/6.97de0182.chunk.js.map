{"version":3,"sources":["config/default.config.ts","assets/images/logo.svg","../node_modules/@ant-design/icons-svg/es/asn/LockOutlined.js","../node_modules/@ant-design/icons/es/icons/LockOutlined.js","pages/user/Login.tsx"],"names":["Size","lang","homePage","iconfontUrl","theme","navMode","primaryColor","fixedHeader","fixSiderbar","headerHeight","siderbarTheme","topbarTheme","dark","multiTab","LockOutlined","props","ref","React","AntdIcon","_objectSpread","icon","LockOutlinedSvg","displayName","layout","wrapperCol","span","tailLayout","Login","state","logo","require","default","loading","text","onFinish","values","a","setState","getTokenInfo","grant_type","client_id","client_secret","scope","tokenInfo","getUserInfo","userInfo","setToken","local","set","account","history","push","pathname","config","search","age","haha","className","href","alt","src","this","name","initialValues","remember","username","password","size","onFinishFailed","errorInfo","console","log","Item","rules","required","message","prefix","UserOutlined","style","color","placeholder","Password","valuePropName","type","htmlType","block","Component"],"mappings":"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","file":"static/js/6.97de0182.chunk.js","sourcesContent":["enum Size {\n  light = 'light',\n  dark = 'dark'\n}\n\nexport default {\n  lang: 'zh',\n  homePage: '/Dashboard/Analysis', // 主页路由\n  iconfontUrl: '//at.alicdn.com/t/font_2362347_541noik27o4.js',\n  theme: {\n    navMode: 'top', // side 侧边 top 顶部\n    primaryColor: '', // 主色调\n    fixedHeader: false, // 是否固定头部\n    fixSiderbar: false, // 是否固定侧边栏\n    headerHeight: 48, // 头部高度\n    siderbarTheme: '', // 侧边栏主题 light or dark\n    topbarTheme: Size.dark // 顶部栏主题 light or dark\n  },\n  multiTab: false // 是否启用多页签方式，此时默认路由页面全部启用缓存，在非启用多页签下 通过路由配置keepAlive设置指定页面是否启用缓存\n};\n","export default __webpack_public_path__ + \"static/media/logo.f0355d39.svg\";","// This icon file is generated automatically.\nvar LockOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z\" } }] }, \"name\": \"lock\", \"theme\": \"outlined\" };\nexport default LockOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LockOutlinedSvg from \"@ant-design/icons-svg/es/asn/LockOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LockOutlined = function LockOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: LockOutlinedSvg\n  }));\n};\n\nLockOutlined.displayName = 'LockOutlined';\nexport default /*#__PURE__*/React.forwardRef(LockOutlined);","import React from 'react';\nimport { Form, Input, Button, Checkbox } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport { getTokenInfo, getUserInfo } from '@/apis/auth';\nimport config from '@/config/default.config';\nimport '@assets/less/user/Login.less';\nimport { setToken } from '@/utils/jsonWebToken';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { local } from '@/utils/storage';\n\ntype StateType = {\n  /**\n   * 异步加载的logo module\n   */\n  logo: any;\n  /**\n   * 按钮状态\n   */\n  loading: boolean;\n  /**\n   * 提交文字\n   */\n  text: string;\n};\n\nconst layout = {\n  wrapperCol: { span: 24 }\n};\n\nconst tailLayout = {\n  wrapperCol: { span: 24 }\n};\n\nclass Login extends React.Component<RouteComponentProps, StateType> {\n  constructor(props: RouteComponentProps) {\n    super(props);\n\n    this.state = {\n      logo: require('@assets/images/logo.svg').default,\n      loading: false,\n      text: '提交'\n    };\n  }\n\n  render() {\n    const onFinish = async (values: any) => {\n      this.setState((state) => ({ loading: !state.loading, text: '提交中...' }));\n\n      try {\n        const tokenInfo: any = await getTokenInfo({\n          ...values,\n          grant_type: 'password',\n          client_id: 'gGywGzvMLSjsdFjGEpIs',\n          client_secret: 'bxsjweclZss2dd8ohnfFJrZm8ZLCiavkna7UbB1o',\n          scope: 'ess'\n        });\n\n        const userInfo = await getUserInfo(tokenInfo);\n\n        setToken(tokenInfo, userInfo);\n\n        local.set('LOGININFO', { account: values });\n\n        this.props.history.push({ pathname: config.homePage, search: '?id=1', state: { age: 123, haha: '哈哈哈' } });\n      } catch (error) {\n        this.setState((state) => ({ loading: !state.loading, text: '提交' }));\n      }\n    };\n\n    const onFinishFailed = (errorInfo: any) => {\n      console.log('Failed:', errorInfo);\n    };\n\n    return (\n      <div className=\"login-wrapper\">\n        <div className=\"login-wrapper-content\">\n          <div className=\"login-wrapper-content-top\">\n            <div className=\"login-wrapper-content-top-header\">\n              <a href=\"/\">\n                <img alt=\"logo\" className=\"login-wrapper-content-top-header-logo\" src={this.state.logo} />\n                <span className=\"login-wrapper-content-top-header-title\">Ant Design</span>\n              </a>\n            </div>\n            <div className=\"login-wrapper-content-top-desc\">\n              <span>Ant Design 是西湖区最具影响力的 Web 设计规范</span>\n            </div>\n          </div>\n          <div className=\"login-wrapper-content-form\">\n            <Form\n              {...layout}\n              name=\"basic\"\n              initialValues={{ remember: true, username: 'lebron', password: 'lebron' }}\n              onFinish={onFinish}\n              size=\"large\"\n              onFinishFailed={onFinishFailed}\n            >\n              <Form.Item name=\"username\" rules={[{ required: true, message: '请输入用户名！' }]}>\n                <Input\n                  prefix={<UserOutlined style={{ color: '#1890ff' }} className=\"site-form-item-icon\" />}\n                  placeholder=\"用户名\"\n                />\n              </Form.Item>\n\n              <Form.Item name=\"password\" rules={[{ required: true, message: '请输入密码！' }]}>\n                <Input.Password\n                  prefix={<LockOutlined style={{ color: '#1890ff' }} className=\"site-form-item-icon\" />}\n                  placeholder=\"密码\"\n                />\n              </Form.Item>\n\n              <Form.Item {...tailLayout} name=\"remember\" valuePropName=\"checked\">\n                <Checkbox>自动登录</Checkbox>\n              </Form.Item>\n\n              <Form.Item {...tailLayout}>\n                <Button type=\"primary\" htmlType=\"submit\" loading={this.state.loading} block size=\"large\">\n                  {this.state.text}\n                </Button>\n              </Form.Item>\n            </Form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"],"sourceRoot":""}